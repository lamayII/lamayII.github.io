<!DOCTYPE html>
<html>
  <head>
    <title>Validate Security Clearance</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  </head>
  <body>
    <div class="container mt-4">
      <div class="alert alert-info text-center" role="alert">
        Please enter your security clearance ID to validate your access.
      </div>
      <h1 class="mb-4">Validate Security Clearance</h1>
      <!-- Update the 'action' attribute with the specific URL -->
      <form id="searchForm" method="POST" action="https://script.google.com/macros/s/AKfycbyPzDlHkmNuEWphRIj35vR5PsFX70dHT_ngb-8hfXHjuof8X4iRwT1acuNXqldt6XUklw/exec">
        <div class="mb-3">
          <label for="textInput" class="form-label">Enter Clearance ID:</label>
          <input type="text" name="textInput" id="textInput" class="form-control" placeholder="Enter ID" required>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
      <div id="result" class="mt-3"></div>
    </div>
    <script>
  document.getElementById('searchForm').addEventListener('submit', function (event) {
    event.preventDefault(); // Prevent form reload

    const form = event.target;
    const formData = new FormData(form);

    // Use the 'action' attribute of the form as the URL
    fetch(form.action, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded', // Set Content-Type header
      },
      body: new URLSearchParams(formData), // Convert form data to URL-encoded format
    })
      .then((response) => {
        if (!response.ok) {
          throw new Error(`HTTP error! Status: ${response.status}`);
        }
        return response.json();
      })
      .then((data) => {
        document.getElementById('result').innerHTML = `<div class="alert alert-success">${data.result}</div>`;
      })
      .catch((error) => {
        document.getElementById('result').innerHTML = `<div class="alert alert-danger">Error: ${error}</div>`;
      });
  });
</script>

  </body>
</html>
