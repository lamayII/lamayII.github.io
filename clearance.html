<!DOCTYPE html>
<html>
  <head>
    <title>Validate Security Clearance</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  </head>
  <body>
    <div class="container mt-4">
      <div class="alert alert-info text-center" role="alert">
        Please enter your security clearance ID to validate your access.
      </div>
      <h1 class="mb-4">Validate Security Clearance</h1>
      <!-- Update the 'action' attribute with the specific URL -->
      <form id="searchForm" method="POST" action="https://script.google.com/macros/s/AKfycbyPzDlHkmNuEWphRIj35vR5PsFX70dHT_ngb-8hfXHjuof8X4iRwT1acuNXqldt6XUklw/exec">
        <div class="mb-3">
          <label for="textInput" class="form-label">Enter Clearance ID:</label>
          <input type="text" name="textInput" id="textInput" class="form-control" placeholder="Enter ID" required>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
      <div id="result" class="mt-3"></div>
    </div>
    <script>
  document.getElementById('searchForm').addEventListener('submit', function (event) {
    event.preventDefault(); // Prevent page reload

    const form = event.target;
    const formData = new FormData(form);
    const params = new URLSearchParams();

    // Convert form data to query parameters
    for (const pair of formData.entries()) {
      params.append(pair[0], pair[1]);
    }

    // Perform a GET request
    fetch(`${form.action}?${params.toString()}`, {
      method: 'GET', // GET request
    })
      .then((response) => {
        if (!response.ok) {
          throw new Error(`HTTP error! Status: ${response.status}`);
        }
        return response.json(); // Parse JSON response
      })
      .then((data) => {
        // Display the result from the server
        document.getElementById('result').innerHTML = `
          <div class="alert alert-success">Result: ${data.result || 'No data found.'}</div>`;
      })
      .catch((error) => {
        // Display error message
        document.getElementById('result').innerHTML = `
          <div class="alert alert-danger">Error: ${error.message}</div>`;
      });
  });
</script>
  </body>
</html>
